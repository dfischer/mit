#!/usr/bin/env python3
# Generate instructions opcode list.
#
# (c) Mit authors 2018-2019
#
# The package is distributed under the MIT/X11 License.
#
# THIS PROGRAM IS PROVIDED AS IS, WITH NO WARRANTY. USE IS AT THE USERâ€™S
# RISK.

from mit_core.vm_data import Instruction, InternalExtraInstruction, ExecutionError

print('''\
// Auto-generated by gen-opcodes - DO NOT EDIT.
//
// Instruction opcodes.

#ifndef MIT_OPCODES
#define MIT_OPCODES


#define INSTRUCTION(name, opcode) name = opcode,
''')

Instruction.print_c('O_')
InternalExtraInstruction.print_c('O_EXTRA_')

print('''
#undef INSTRUCTION

enum {''')

for error in ExecutionError:
    print('    MIT_ERR_{} = {},'.format(error.name, error))

print('''\
};

#endif''')
