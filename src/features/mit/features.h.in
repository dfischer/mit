// Mit features header file
//
// (c) Mit authors 2019-2020
//
// The package is distributed under the MIT/X11 License.
//
// THIS PROGRAM IS PROVIDED AS IS, WITH NO WARRANTY. USE IS AT THE USERâ€™S
// RISK.

#ifndef MIT_WORD_BYTES
#error "mit/mit.h must be included before this header file"
#endif


#ifndef MIT_FEATURES
#define MIT_FEATURES

extern int mit_argc;
/* The registered value of `argc`. */
extern char **mit_argv;
/* The registered value of `argv`. */

mit_word mit_extra_instruction(mit_state * restrict S);

mit_word mit_specializer_run(mit_state * restrict S);
/* Like `mit_run`, but (hopefully) faster. */

// N.B. The profiler is global to the process.
void mit_profile_init(void);
/* Initialize the profiler. Must be called before `mit_profile_run` or
   `mit_profile_dump`. */
mit_word mit_profile_run(mit_state * restrict S);
/* Like `mit_specializer_run`, but record profiling information. */
int mit_profile_dump(int fd);
/* Dump profiling information to file descriptor `fd`. */

mit_word mit_step_to(mit_state * restrict S, mit_uword *n, mit_uword addr, int auto_NEXT);

#endif
