// Mit features header file.
//
// (c) Mit authors 2019
//
// The package is distributed under the MIT/X11 License.
//
// THIS PROGRAM IS PROVIDED AS IS, WITH NO WARRANTY. USE IS AT THE USERâ€™S
// RISK.

#ifndef MIT_WORD_BYTES
#error "mit/mit.h must be included before this header file"
#endif


#ifndef MIT_FEATURES
#define MIT_FEATURES

mit_word mit_extra_instruction(mit_state * restrict S);

mit_state *mit_auto_extend_init(void);
int mit_auto_extend_handler(mit_state * restrict S, int error);

const char *mit_core_dump(mit_state *S);

// N.B. The specializer profile is global to the process.
void mit_specializer_dump_profile(void);
mit_word mit_specializer_run(mit_state * restrict S);

// N.B. The predictor is not re-entrant: only one instance may be in use at
// a time in a given process.
void mit_predictor_init(void);
int mit_predictor_dump(int fd);
mit_word mit_predictor_run(mit_state * restrict S);

mit_word mit_step_to(mit_state * restrict state, mit_uword *n, mit_uword addr, int auto_NEXT);

#endif
