#!@PYTHON@
# -*- python -*-
#
# (c) Mit authors 2019-2020
#
# This file is in the public domain.
#
# THIS PROGRAM IS PROVIDED AS IS, WITH NO WARRANTY. USE IS AT THE USERâ€™S
# RISK.

import argparse
import subprocess


# Process command-line arguments
parser = argparse.ArgumentParser(
    prog='mit-shell',
    description='Run Mit in a Python REPL with debugging facilities.',
    formatter_class=argparse.RawDescriptionHelpFormatter
)
parser.add_argument(
    '--version',
    action='version',
    version='''\
%(prog)s @VERSION@
Copyright (c) Mit authors 2019-2020.
@PACKAGE_NAME@ comes with ABSOLUTELY NO WARRANTY.
You may redistribute copies of @PACKAGE_NAME@
under the terms of the MIT/X11 License.'''
)
args = parser.parse_args()

# Run IPython
subprocess.run(['@IPYTHON@', '-i', '@IPYTHON_OPTS@', '-c', 'from mit@PACKAGE_SUFFIX@.globals import *'])
